#this script uses paramiko to send show commands to Junos device.

import paramiko
from pprint import pprint
import time
ssh_client = paramiko.SSHClient()
print('Connecting to 10.85.173.197')
ssh_client.set_missing_host_key_policy(paramiko.AutoAddPolicy())
#next line is connecting to Junos device, with plain text password.
ssh_client.connect(hostname = '10.85.3.7', port = 22 , username='' , password= '', look_for_keys=False, allow_agent=False)
shell = ssh_client.invoke_shell()
shell.send('show isis adjacency\n')
time.sleep(1)
output = shell.recv(10000)
pprint(output)

if ssh_client.get_transport().is_active() == True:
    print('closing connection')
